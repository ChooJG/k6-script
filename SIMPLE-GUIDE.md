# ğŸ§ª ì±„íŒ… API ë¶€í•˜í…ŒìŠ¤íŠ¸ - ê°„ë‹¨ ê°€ì´ë“œ

## ğŸ“ ì‚¬ìš©ë²• (3ë‹¨ê³„)

### 1ë‹¨ê³„: ì„¤ì • ë³€ê²½

`k6test/chat-basic-test.js` íŒŒì¼ì„ ì—´ê³  ìƒë‹¨ì˜ ì„¤ì • ë¶€ë¶„ë§Œ ìˆ˜ì •í•˜ì„¸ìš”.

```javascript
// 1. í…ŒìŠ¤íŠ¸í•  API ì„œë²„ ì„¤ì •
const SERVER_URL = 'http://localhost:8080';  // â† ì—¬ê¸° ìˆ˜ì •

// 2. í…ŒìŠ¤íŠ¸í•  ì‚¬ìš©ì ê³„ì •ë“¤ (ì‹¤ì œ ì¡´ì¬í•˜ëŠ” ê³„ì •ìœ¼ë¡œ ë³€ê²½í•˜ì„¸ìš”)
const TEST_USERS = [
  {
    username: 'real-user1@example.com',  // â† ì‹¤ì œ ê³„ì •ìœ¼ë¡œ ë³€ê²½
    password: 'real-password123'         // â† ì‹¤ì œ ë¹„ë°€ë²ˆí˜¸ë¡œ ë³€ê²½
  },
  {
    username: 'real-user2@example.com',  // â† ë” ì¶”ê°€ ê°€ëŠ¥
    password: 'real-password123'
  }
];

// 3. ë¶€í•˜í…ŒìŠ¤íŠ¸ ë‹¨ê³„ë³„ ì„¤ì •
export const options = {
  stages: [
    { duration: '30s', target: 2 },   // â† 2ëª…ê¹Œì§€ ì¦ê°€
    { duration: '1m', target: 5 },    // â† 5ëª…ê¹Œì§€ ì¦ê°€  
    { duration: '1m', target: 5 },    // â† 5ëª… ìœ ì§€
    { duration: '30s', target: 0 },   // â† 0ëª…ê¹Œì§€ ê°ì†Œ
  ],
};
```

### 2ë‹¨ê³„: í…ŒìŠ¤íŠ¸ ì‹¤í–‰

í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ ì‹¤í–‰:

```bash
k6 run chat-basic-test.js
```

### 3ë‹¨ê³„: ê²°ê³¼ í™•ì¸

í…ŒìŠ¤íŠ¸ ì™„ë£Œ í›„ ë‚˜ì˜¤ëŠ” ê²°ê³¼ í™•ì¸:

```
âœ“ http_req_duration.............avg=1.2s    p(95)=2.8s   â† ì‘ë‹µì‹œê°„ (ì§§ì„ìˆ˜ë¡ ì¢‹ìŒ)
âœ“ http_req_failed...............0.00%                   â† ì‹¤íŒ¨ìœ¨ (ë‚®ì„ìˆ˜ë¡ ì¢‹ìŒ)
âœ“ iterations....................200     6.6/s          â† ì²˜ë¦¬ëœ ìš”ì²­ ìˆ˜
```

---

## âš™ï¸ ì»¤ìŠ¤í„°ë§ˆì´ì§• ì˜µì…˜

### ë” ê°•í•œ ë¶€í•˜ë¥¼ ì£¼ê³  ì‹¶ë‹¤ë©´:

```javascript
stages: [
  { duration: '1m', target: 10 },   // 10ëª…ê¹Œì§€
  { duration: '2m', target: 20 },   // 20ëª…ê¹Œì§€
  { duration: '2m', target: 20 },   // 20ëª… ìœ ì§€
  { duration: '1m', target: 0 },    // ì¢…ë£Œ
],
```

### ë” ì˜¤ë˜ í…ŒìŠ¤íŠ¸í•˜ê³  ì‹¶ë‹¤ë©´:

```javascript
stages: [
  { duration: '2m', target: 5 },    // ì²œì²œíˆ ì¦ê°€
  { duration: '10m', target: 5 },   // ê¸¸ê²Œ ìœ ì§€
  { duration: '1m', target: 0 },    // ì¢…ë£Œ
],
```

### ë” ë§ì€ ì‚¬ìš©ìë¥¼ ì¶”ê°€í•˜ë ¤ë©´:

```javascript
const TEST_USERS = [
  { username: 'user1@test.com', password: 'pass1' },
  { username: 'user2@test.com', password: 'pass2' },
  { username: 'user3@test.com', password: 'pass3' },
  { username: 'user4@test.com', password: 'pass4' },
  { username: 'user5@test.com', password: 'pass5' },
  // ë” ì¶”ê°€ ê°€ëŠ¥...
];
```

---

## â— ì£¼ì˜ì‚¬í•­

1. **ì‹¤ì œ ê³„ì • ì‚¬ìš©**: `TEST_USERS`ì— ì‹¤ì œ ì¡´ì¬í•˜ëŠ” ê³„ì •ì„ ì…ë ¥í•˜ì„¸ìš”
2. **ì„œë²„ ì‹¤í–‰ í™•ì¸**: í…ŒìŠ¤íŠ¸ ì „ì— ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•˜ì„¸ìš”
3. **ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—…**: í…ŒìŠ¤íŠ¸ìš© ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©ì„ ê¶Œì¥í•©ë‹ˆë‹¤
4. **ì ì§„ì  ë¶€í•˜**: ì²˜ìŒì—ëŠ” ì ì€ ì‚¬ìš©ìë¡œ ì‹œì‘í•˜ì„¸ìš”

---

## ğŸ› ï¸ ë¬¸ì œ í•´ê²°

### "ë¡œê·¸ì¸ ì‹¤íŒ¨" ì—ëŸ¬ê°€ ë‚˜ì˜¨ë‹¤ë©´:

- ì‚¬ìš©ìëª…/ë¹„ë°€ë²ˆí˜¸ê°€ ì •í™•í•œì§€ í™•ì¸
- ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
- ë°ì´í„°ë² ì´ìŠ¤ì— í•´ë‹¹ ì‚¬ìš©ìê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸

### "ì±„íŒ… ì‹œì‘ ì‹¤íŒ¨" ì—ëŸ¬ê°€ ë‚˜ì˜¨ë‹¤ë©´:

- JWT í† í° ì²˜ë¦¬ ë°©ì‹ì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ
- ê°œë°œìì™€ ì¸ì¦ ë°©ì‹ í™•ì¸ í•„ìš”

### ì‘ë‹µì‹œê°„ì´ ë„ˆë¬´ ê¸¸ë‹¤ë©´:

- ì„œë²„ ë¦¬ì†ŒìŠ¤ ë¶€ì¡± (CPU, ë©”ëª¨ë¦¬)
- ë°ì´í„°ë² ì´ìŠ¤ ì„±ëŠ¥ ë¬¸ì œ
- OpenAI API ì‘ë‹µ ì§€ì—°

---

## ğŸ“Š ì¢‹ì€ ê²°ê³¼ vs ë‚˜ìœ ê²°ê³¼

### âœ… ì¢‹ì€ ê²°ê³¼:

```
âœ“ http_req_duration.............avg=800ms   p(95)=2.1s
âœ“ http_req_failed...............0.5%
âœ“ iterations....................500     8.3/s
```

### âŒ ë‚˜ìœ ê²°ê³¼:

```
âœ— http_req_duration.............avg=8.2s    p(95)=25s
âœ— http_req_failed...............15.2%
âœ— iterations....................50      0.8/s
```

**Happy Testing! ğŸš€**
